# Сравнение подключения JS файлов: Статика vs WordPress

## Статическая версия (index.html)

### Порядок загрузки:

1. **gsap.min.js** (CDN) - синхронно
2. **scale-container.js** - синхронно (загружается рано)
3. **modules/error-handler.js** - синхронно
4. **modules/preloader.js** - синхронно
5. **modules/navigation.js** - синхронно
6. **mobile-menu.js** - синхронно
7. **menu-sync.js** - синхронно
8. **main.js** - синхронно
9. **slider.js** - **defer**
10. **merch-images.js** - **defer**
11. **size-sync.js** - **defer**
12. **rolling-text.js** - **defer**
13. **cursor.js** - синхронно
14. **scrollbar.js** - синхронно

## WordPress версия (enqueue.php)

### Порядок загрузки:

1. **gsap.min.js** (CDN) - синхронно ✅
2. **modules/error-handler.js** - синхронно ✅
3. **config.js** - синхронно ⚠️ (нет в статике)
4. **modules/preloader.js** - синхронно ✅
5. **modules/navigation.js** - синхронно ✅
6. **main.js** - **defer** ❌ (в статике синхронно)
7. **cursor.js** - **defer** ❌ (в статике синхронно)
8. **scrollbar.js** - **defer** ❌ (в статике синхронно)
9. **slider.js** - **defer** ✅
10. **mobile-menu.js** - **defer** ❌ (в статике синхронно)
11. **menu-sync.js** - **defer** ❌ (в статике синхронно)
12. **scale-container.js** - **defer** ❌ (в статике синхронно, загружается рано)
13. **merch-images.js** - **defer** ✅
14. **size-sync.js** - **defer** ✅
15. **rolling-text.js** - **defer** ✅

## Критические различия:

### ❌ ПРОБЛЕМА 1: scale-container.js
- **Статика:** синхронно, загружается рано (после GSAP)
- **WordPress:** defer (загружается позже)
- **Влияние:** может влиять на масштабирование на больших мониторах

### ❌ ПРОБЛЕМА 2: main.js
- **Статика:** синхронно
- **WordPress:** defer
- **Влияние:** может влиять на инициализацию основных функций

### ❌ ПРОБЛЕМА 3: cursor.js
- **Статика:** синхронно
- **WordPress:** defer
- **Влияние:** курсор может инициализироваться позже

### ❌ ПРОБЛЕМА 4: scrollbar.js
- **Статика:** синхронно
- **WordPress:** defer
- **Влияние:** кастомный скроллбар может инициализироваться позже

### ❌ ПРОБЛЕМА 5: mobile-menu.js и menu-sync.js
- **Статика:** синхронно
- **WordPress:** defer
- **Влияние:** мобильное меню может работать некорректно

## Рекомендации:

1. **scale-container.js** должен загружаться синхронно (как в статике) ✅ ИСПРАВЛЕНО
2. **main.js** должен загружаться синхронно (как в статике) ✅ ИСПРАВЛЕНО
3. **cursor.js** должен загружаться синхронно (как в статике) ✅ ИСПРАВЛЕНО
4. **scrollbar.js** должен загружаться синхронно (как в статике) ✅ ИСПРАВЛЕНО
5. **mobile-menu.js** и **menu-sync.js** должны загружаться синхронно (как в статике) ✅ ИСПРАВЛЕНО

## ✅ ИСПРАВЛЕНО

Все скрипты теперь загружаются в правильном порядке, как в статической версии:
- Синхронные скрипты загружаются синхронно
- Defer скрипты загружаются с defer
- Порядок соответствует статической версии
