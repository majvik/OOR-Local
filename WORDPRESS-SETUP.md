# Руководство по установке темы WordPress

> **Версия:** 1.0.0  
> **Дата:** 2025-01-15

## Требования

- WordPress 6.0+ (последняя стабильная версия)
- PHP 8.0+
- MySQL 5.7+ или MariaDB 10.3+
- Плагин ACF Pro (обязательно)
- VPS хостинг (рекомендуется)

## Установка

### 1. Подготовка WordPress

1. Установите WordPress на сервер
2. Убедитесь, что SSL сертификат настроен (HTTPS обязательно)
3. Настройте автоматические бэкапы

### 2. Установка ACF Pro

1. Установите плагин ACF Pro через админ-панель WordPress
2. Активируйте плагин
3. Убедитесь, что плагин работает корректно

### 3. Установка темы

1. Скопируйте содержимое проекта в `/wp-content/themes/oor-theme/`
2. Структура должна быть:
   ```
   /wp-content/themes/oor-theme/
   ├── style.css
   ├── functions.php
   ├── index.php
   ├── header.php
   ├── footer.php
   ├── front-page.php
   ├── page.php
   ├── single-artist.php
   ├── archive-event.php
   ├── assets/
   │   ├── css/
   │   └── js/
   ├── public/
   │   ├── assets/
   │   └── fonts/
   └── inc/
   ```

3. Активируйте тему в WordPress админ-панели: **Внешний вид → Темы**

### 4. Настройка структуры

#### Создание страниц

Создайте следующие страницы в WordPress:
- Главная (Home) - установите как главную страницу
- Манифест
- Артисты
- Студия
- Услуги
- DAWGS
- Talk-show
- События
- Мерч (для WooCommerce)
- Контакты

#### Настройка меню

1. Перейдите в **Внешний вид → Меню**
2. Создайте главное меню
3. Добавьте все страницы в меню
4. Назначьте меню в позицию "Главное меню"

### 5. Настройка Custom Post Types

Custom Post Types регистрируются автоматически через `functions.php`:
- **Артисты** (`artist`) - появится в меню админ-панели
- **События** (`event`) - появится в меню админ-панели

### 6. Настройка ACF полей

1. Перейдите в **Произвольные поля → Группы полей**
2. Импортируйте или создайте Field Groups согласно [ACF-FIELDS-GUIDE.md](ACF-FIELDS-GUIDE.md)

**Важно:** Убедитесь, что Location Rules настроены правильно:
- Главная страница: `Page Template is equal to Главная`
- Страница артиста: `Post Type is equal to artist`
- Страница события: `Post Type is equal to event`
- DAWGS: `Page Template is equal to DAWGS`
- Talk-show: `Page Template is equal to Talk-show`

### 7. Настройка путей

Убедитесь, что в `functions.php` правильно настроены пути:
- `get_template_directory_uri()` используется для всех ресурсов
- JavaScript использует `wp_localize_script()` для получения путей

### 8. Настройка кэширования

Для VPS рекомендуется:
1. Установить Memcached или Redis
2. Установить плагин Object Cache (WP Redis или Memcached)
3. Настроить Page Cache (WP Rocket или W3 Total Cache)

### 9. Настройка аналитики

Добавьте коды Google Analytics и Яндекс.Метрики в `functions.php`:
```php
// См. раздел "Аналитика" в OPTIMIZATION.md
```

### 10. Тестирование

1. Проверьте все страницы на корректное отображение
2. Проверьте работу ACF полей
3. Проверьте добавление/редактирование артистов и событий
4. Проверьте body-классы на всех страницах
5. Проверьте работу всех JavaScript функций

## Troubleshooting

### Проблема: Ресурсы не загружаются (404)

**Решение:**
- Проверьте, что пути используют `get_template_directory_uri()`
- Очистите кэш браузера и WordPress
- Проверьте права доступа к файлам

### Проблема: Стили не применяются

**Решение:**
- Проверьте порядок загрузки CSS в `inc/enqueue.php`
- Убедитесь, что все CSS файлы на месте
- Проверьте body-классы на страницах

### Проблема: ACF поля не отображаются

**Решение:**
- Проверьте Location Rules в ACF
- Убедитесь, что правильный шаблон страницы выбран
- Проверьте, что поля добавлены в правильную группу

### Проблема: JavaScript не работает

**Решение:**
- Проверьте консоль браузера на ошибки
- Убедитесь, что все скрипты загружаются
- Проверьте зависимости скриптов (GSAP, Lenis)

## Дополнительные ресурсы

- [План оптимизации](OPTIMIZATION.md) - детальный план оптимизации
- [Руководство по ACF полям](ACF-FIELDS-GUIDE.md) - как редактировать контент
- [Техническая спецификация](SPEC.md) - технические детали проекта

---

**Поддержка:** При возникновении проблем проверьте документацию или обратитесь к разработчику.
